(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{1167:function(e,s,l){Promise.resolve().then(l.bind(l,8741))},8741:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return g}});var t=l(7437),r=l(2265),a=l(8730),n=l(9376),i=l(9116),o=l(2869),c=l(6070),d=l(1817),m=l(9205);let x=(0,m.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var u=l(2208),h=l(2369),p=l(5005),f=l(4935);let j=(0,m.Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);function g(){let{user:e}=(0,a.a)(),s=(0,n.useRouter)(),[l,m]=(0,r.useState)(!0),[g,N]=(0,r.useState)(null),[b,v]=(0,r.useState)([]),[y,k]=(0,r.useState)([]),[w,Z]=(0,r.useState)([]),[S,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!e){s.push("/login");return}C()},[e,s]);let C=async()=>{if(!(null==e?void 0:e.email)){console.log("No user email found");return}console.log("Loading portfolio for:",e.email),m(!0);try{let[s,l,t,r]=await Promise.all([i.R$.get(e.email),i.qx.list(e.email),i.oW.list(e.email),i.L0.list(e.email)]);console.log("Personal Info Response:",s),console.log("Projects Response:",l),console.log("Experiences Response:",t),console.log("Skills Response:",r),s.success&&s.data?(console.log("Setting personal info:",s.data),N(s.data),P(!0)):console.log("Personal info not found or failed:",s.message),l.success&&l.data&&(console.log("Setting projects:",l.data),v(l.data)),t.success&&t.data&&(console.log("Setting experiences:",t.data),k(t.data)),r.success&&r.data&&(console.log("Setting skills:",r.data),Z(r.data))}catch(e){console.error("Error loading portfolio:",e)}finally{m(!1)}},D=()=>{s.push("/builder")};return l?(0,t.jsxs)("div",{className:"min-h-screen flex items-center justify-center",children:[(0,t.jsx)(d.Z,{className:"h-8 w-8 animate-spin"}),(0,t.jsx)("span",{className:"ml-2",children:"Loading your portfolio..."})]}):S?(0,t.jsxs)("div",{className:"container mx-auto p-6 min-h-screen",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"My Portfolios"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Welcome back, ",(null==g?void 0:g.fullname)||(null==e?void 0:e.fullname),"!"]})]}),(0,t.jsx)("div",{className:"flex gap-3",children:(0,t.jsx)(o.z,{onClick:D,variant:"default",children:"+ Create New Portfolio"})})]}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)(c.Zb,{className:"p-6 hover:shadow-lg transition-shadow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold mb-2",children:[null==g?void 0:g.fullname,"'s Portfolio"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:null==g?void 0:g.professionalTitle})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(o.z,{onClick:()=>{(null==e?void 0:e.email)&&s.push("/builder?mode=edit&email=".concat(e.email))},variant:"outline",size:"sm",children:[(0,t.jsx)(x,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,t.jsxs)(o.z,{onClick:()=>{(null==e?void 0:e.email)&&s.push("/portfolio-view?email=".concat(encodeURIComponent(e.email)))},size:"sm",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Preview"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{children:["\uD83D\uDCCA ",b.length," Projects"]}),(0,t.jsxs)("span",{children:["\uD83D\uDCBC ",y.length," Experiences"]}),(0,t.jsxs)("span",{children:["\uD83C\uDFAF ",w.length," Skills"]}),(0,t.jsxs)("span",{children:["\uD83D\uDCC5 Last updated: ",new Date().toLocaleDateString()]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)(c.Zb,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,t.jsx)(h.Z,{className:"h-6 w-6 text-blue-600 dark:text-blue-300"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Personal Info"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:g?"✓":"-"})]})]})}),(0,t.jsx)(c.Zb,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,t.jsx)(p.Z,{className:"h-6 w-6 text-green-600 dark:text-green-300"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Work Experience"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:y.length})]})]})}),(0,t.jsx)(c.Zb,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:(0,t.jsx)(f.Z,{className:"h-6 w-6 text-purple-600 dark:text-purple-300"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Projects"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:b.length})]})]})}),(0,t.jsx)(c.Zb,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-orange-100 dark:bg-orange-900 rounded-lg",children:(0,t.jsx)(j,{className:"h-6 w-6 text-orange-600 dark:text-orange-300"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Skills"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:w.length})]})]})})]}),g&&(0,t.jsxs)(c.Zb,{className:"p-6 mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Personal Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),(0,t.jsx)("p",{className:"font-medium",children:g.fullname})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Professional Title"}),(0,t.jsx)("p",{className:"font-medium",children:g.professionalTitle})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Email"}),(0,t.jsx)("p",{className:"font-medium",children:g.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Phone"}),(0,t.jsx)("p",{className:"font-medium",children:g.phoneNumber})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Location"}),(0,t.jsx)("p",{className:"font-medium",children:g.location})]}),g.personalWebsite&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Website"}),(0,t.jsx)("a",{href:g.personalWebsite,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:underline",children:g.personalWebsite})]})]}),g.professionalBio&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Bio"}),(0,t.jsx)("p",{className:"font-medium",children:g.professionalBio})]})]}),b.length>0&&(0,t.jsxs)(c.Zb,{className:"p-6 mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Projects (",b.length,")"]}),(0,t.jsx)("div",{className:"space-y-4",children:b.map((e,s)=>(0,t.jsxs)("div",{className:"border-b last:border-b-0 pb-4 last:pb-0",children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),(0,t.jsxs)("div",{className:"flex gap-2 text-sm",children:[e.liveUrl&&(0,t.jsx)("a",{href:e.liveUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Live Demo"}),e.githubUrl&&(0,t.jsx)("a",{href:e.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"GitHub"})]}),(0,t.jsxs)("p",{className:"text-sm mt-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"Technologies:"})," ",e.technologies]})]},s))})]}),y.length>0&&(0,t.jsxs)(c.Zb,{className:"p-6 mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Work Experience (",y.length,")"]}),(0,t.jsx)("div",{className:"space-y-4",children:y.map((e,s)=>(0,t.jsxs)("div",{className:"border-b last:border-b-0 pb-4 last:pb-0",children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:e.position}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.company," • ",e.duration]}),(0,t.jsx)("p",{className:"text-sm mt-2",children:e.description})]},s))})]}),w.length>0&&(0,t.jsxs)(c.Zb,{className:"p-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Skills (",w.length,")"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:w.map((e,s)=>(0,t.jsxs)("div",{className:"px-4 py-2 bg-secondary rounded-full",children:[(0,t.jsx)("span",{className:"font-medium",children:e.skillName}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground ml-2",children:["(",e.proficiencyLevel,")"]})]},s))})]})]}):(0,t.jsx)("div",{className:"container mx-auto p-6 min-h-screen flex items-center justify-center",children:(0,t.jsxs)(c.Zb,{className:"p-8 text-center max-w-md",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Welcome to Portfolio Builder!"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"You haven't created your portfolio yet. Get started by creating your first portfolio."}),(0,t.jsx)(o.z,{onClick:D,size:"lg",children:"Create Your Portfolio"})]})})}},8730:function(e,s,l){"use strict";l.d(s,{AuthProvider:function(){return i},a:function(){return o}});var t=l(7437),r=l(2265),a=l(9116);let n=(0,r.createContext)(void 0);function i(e){let{children:s}=e,[l,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(()=>{if(a.iJ.isAuthenticated()){let e=localStorage.getItem("user");if(e)try{i(JSON.parse(e))}catch(e){console.error("Failed to parse stored user:",e),localStorage.removeItem("user")}}c(!1)})()},[]);let d=async()=>{try{await a.iJ.logout()}catch(e){console.error("Logout error:",e)}finally{i(null),localStorage.removeItem("user")}};return(0,t.jsx)(n.Provider,{value:{user:l,isAuthenticated:!!l,isLoading:o,login:(e,s)=>{let l={email:e,fullname:s};i(l),localStorage.setItem("user",JSON.stringify(l))},logout:d},children:s})}function o(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5005:function(e,s,l){"use strict";l.d(s,{Z:function(){return t}});let t=(0,l(9205).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},4935:function(e,s,l){"use strict";l.d(s,{Z:function(){return t}});let t=(0,l(9205).Z)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},2208:function(e,s,l){"use strict";l.d(s,{Z:function(){return t}});let t=(0,l(9205).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2369:function(e,s,l){"use strict";l.d(s,{Z:function(){return t}});let t=(0,l(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[50,842,971,117,744],function(){return e(e.s=1167)}),_N_E=e.O()}]);